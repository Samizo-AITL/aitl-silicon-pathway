# Chapter2: FSM â†’ Verilog RTL  
## AITL Silicon Pathway

This chapter formalizes the **Finite State Machine (FSM)** defined in Chapter1  
and translates it from a Python-level specification into **synthesizable Verilog RTL**.

The goal is not only to write RTL code, but to **establish a reproducible and deterministic
mapping process** from software FSM models to hardware implementations suitable for
ASIC synthesis using OpenLane.

---

## ğŸ¯ Objectives

- Convert a Python-based FSM into a **formal hardware specification**
- Fully hardware-implement the **FSM layer** in the PID Ã— FSM Ã— LLM architecture
- Define **clear and reusable rules** for translating FSM behavior into Verilog RTL
- Avoid ad-hoc RTL coding by fixing state, transition, and output semantics

---

## ğŸ§  Role of FSM in AITL

```
LLM (Outer Layer)
  â””â”€ Anomaly detection, redesign, parameter updates

FSM (Middle Layer)  â† Focus of this chapter
  â””â”€ Mode management, state transitions, control policy switching

PID (Inner Layer)
  â””â”€ Real-time control (Vâ€“I response stabilization)
```

The FSM covered in this chapter has the following characteristics:

- Accepts decisions or flags generated by the LLM layer as **input conditions**
- Controls PID operation modes through **explicit state transitions**
- Is **fully deterministic** and synthesizable
- Is clearly separated from the real-time PID control loop

---

## ğŸ“‚ Directory Structure

```
docs/chapter2/
â”œâ”€â”€ README.md          â† Entry point of Chapter2
â”œâ”€â”€ overview.md        â† Chapter overview and design flow
â”œâ”€â”€ fsm_spec.md        â† Formal FSM specification
â”œâ”€â”€ mapping_rules.md   â† Python-to-Verilog mapping rules
â”œâ”€â”€ verilog_rtl.md     â† FSM RTL (skeleton â†’ complete)
â”œâ”€â”€ rtl_guidelines.md  â† ASIC / OpenLane RTL guidelines
â””â”€â”€ assets/
    â”œâ”€â”€ fsm_diagram.mmd
    â”œâ”€â”€ state_table.csv
    â”œâ”€â”€ transition_table.csv
    â””â”€â”€ signal_list.csv
```

---

## ğŸ“– Recommended Reading Order

1. **overview.md**  
   Understand the purpose and overall flow of Chapter2  

2. **fsm_spec.md**  
   Formalize the FSM using state tables, transition tables, and signal definitions  

3. **mapping_rules.md**  
   Learn how Python FSM constructs are mapped to Verilog RTL  

4. **verilog_rtl.md**  
   Examine the FSM RTL, from skeleton structure to a complete implementation  

5. **rtl_guidelines.md**  
   Learn ASIC-oriented RTL coding rules to avoid synthesis pitfalls  

---

## âš  Out of Scope

The following topics are intentionally excluded from this chapter:

- OpenLane execution procedures
- Testbench implementation
- Lint or synthesis error handling
- VSCode or editor usage
- SoC integration and top-level wiring

These topics will be covered in **Chapter3 and later**.

---

## ğŸ§© Relationship to Other Chapters

- **Chapter1**  
  FSM design at the Python level  
  â”” Conceptual behavior and control logic  

- **Chapter2 (this chapter)**  
  Formal specification and RTL realization of the FSM  
  â”” Hardware-level definition of states and transitions  

- **Chapter3 (planned)**  
  RTL simulation, synthesis, and ASIC flow  
  â”” Verification using OpenLane  

---

## âœï¸ Target Audience

- Engineers who want to translate FSM logic into RTL systematically
- Designers moving from Python-based models to ASIC implementation
- Readers interested in OpenLane-compatible FSM design
- Anyone studying the FSM layer of the AITL architecture

---

## ğŸ”— Related Chapters

- Chapter1: FSM Design (Python)
- Chapter3: RTL Simulation & ASIC Flow (planned)

---

